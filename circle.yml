general:
  build_dir: giraffe-war
machine:
  java:
    version:openjdk7
compile:
  override:
    - mvn compile
test:
  override:
    - mkdir -p $CIRCLE_TEST_REPORTS/cucumber
    - bundle exec cucumber --format junit --out $CIRCLE_TEST_REPORTS/cucumber/junit.xml
    - mvn test

deployment:
  master:
    branch: master
    owner: circleci
    commands:
      - mvn clean install
      - ./updateAppengine.sh
